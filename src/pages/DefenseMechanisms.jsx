// src/pages/DefenseMechanisms.jsx – الوحدة الثانية: آليات الدفاع النفسي
import React, { useState } from 'react';
import { useNavigate } from 'react-router-dom';
import { Card, CardContent } from '@/components/ui/card';
import { Button } from '@/components/ui/button';
import { Accordion, AccordionItem } from '@/components/ui/accordion';
import ScrollToTopButton from '@/components/ScrollToTopButton';
import { ShieldCheck, BookOpen, Youtube, Headphones, AlertTriangle, CheckCircle2, TrafficCone, ArrowLeft } from 'lucide-react';
import { motion } from 'framer-motion';
import ReactMarkdown from 'react-markdown';
import { Link, Element } from 'react-scroll';


const markdownComponents = {
  h3: ({ node, ...props }) => <h3 className="text-xl font-semibold text-[#4e9778] mt-4 mb-2" {...props} />,
  p: ({ node, ...props }) => <p className="text-sm text-[#444] leading-relaxed mb-2" {...props} />,
  ul: ({ node, ...props }) => <ul className="list-disc pl-5 mb-2 space-y-1 text-sm text-[#444]" {...props} />,
  ol: ({ node, ...props }) => <ol className="list-decimal pl-5 mb-2 space-y-1 text-sm text-[#444]" {...props} />,
  li: ({ node, ...props }) => <li {...props} />,
  blockquote: ({ node, ...props }) => (
    <blockquote className="border-l-4 border-[#4e9778] pl-4 italic text-[#666] my-4" {...props} />
  ),
};

/* --------------------------------------------------
   قائمة آليات الدفاع النفسية (الواعية واللاواعية)
-------------------------------------------------- */
const DEFENSES = [

  {
    key: 'denial',
    name: 'الإنكار',
    desc: `### ما هو الإنكار؟

- **التعريف**: آلية دفاع لاوائية يُنكر فيها الشخص وجود حقائق أو أحداث مؤلمة أو مهددة، رغم وجود أدلة واضحة على صحتها. يُعتبر من أكثر آليات الدفاع بدائية، ويظهر غالبًا في المواقف التي تشكل تهديدًا للذات أو الأنا.
- **الهدف**: تجنب القلق الناتج عن مواجهة الواقع، مثل إنكار المرض أو الفقدان أو الفشل.
- **الخطر**: يؤدي إلى تأخر التعامل مع المشكلات وتفاقمها، كإنكار الإدمان أو العنف الأسري.



### مثال واقعي للإنكار

#### الحالة:
مريض يُشخّص بمرض مزمن، لكنه يرفض تصديق التشخيص ويتوقف عن تناول الدواء.

#### عملية الإنكار:
1. **الحدث المؤلم**: سماع خبر المرض.
2. **الإنكار**: قول: "التحاليل خاطئة، أنا بصحة جيدة!"
3. **النتيجة**: تفاقم الأعراض بسبب عدم العلاج.

#### تأثيرات الإنكار:
- **على الصحة**: تأخر التدخل الطبي.
- **على العلاقات**: صدام مع العائلة التي تحاول إقناعه بالعلاج.

### الفرق بين الإنكار وآليات مشابهة

- **الكبت (Repression)**: إبعاد الذكريات المؤلمة عن الوعي تمامًا (مثل نسيان حادث صادم).
- **التبرير (Rationalization)**: اختلاق أعذار منطقية لتجنب الحقيقة (مثل: "فشلت في الامتحان لأن الأسئلة كانت غامضة").

### كيفية التعامل مع الإنكار

1. **العلاج النفسي**: خاصةً العلاج المعرفي السلوكي لمواجهة التشوهات الفكرية.
2. **الدعم الاجتماعي**: تشجيع الشخص على التعبير عن مخاوفه دون إجباره على القبول الفوري.
3. **التوعية**: تقديم معلومات واضحة حول الموقف (مثل شرح تفاصيل المرض بطرق مبسطة).

> "الإنكار هو رفض قبول الحقائق.. لكن الحقيقة تظل كالظل تلاحقنا حتى نعترف بها" — *مقتبس من تحليل آليات الدفاع*
`, // ← الصيغة أعلاه
    image: '/DfenssImg/Digital Illustration of Fishbowl with Broken Padlock and Text (3).png',
    example: 'الصورة تجسّد كيف يُفضّل الفرد إخفاء الحقيقة عن نفسه بدلًا من مواجهتها، مما يعيق عملية التكيّف الصحي.',

    healthy: 'قد يكون مفيدًا مؤقتًا عند الصدمة الأولى لكنه غير نافع على المدى الطويل.',
    sources: [
      {
        type: 'book',
        title: 'The Ego and the Mechanisms of Defence – Anna Freud',
        url: 'https://www.goodreads.com/book/show/1822334',
        note: 'المرجع الأصلي الكلاسيكي.'
      },
      {
        type: 'video',
        title: 'Denial Explained – Psych Hub',
        url: 'https://youtu.be/Ou7cNmaFHyI',
        note: 'شرح مصور لأمثلة حياتية.'
      },
    ]
  },
  
  
  {
    key: 'projection',
    name: 'الإسقاط',
    desc: `
### ما هو الإسقاط؟

- **التعريف**: آلية دفاع لاواعية ينسب فيها الشخص مشاعره أو دوافعه أو أفكاره غير المقبولة (مثل الغضب، الحسد، الرغبات الجنسية) إلى الآخرين، كأنهم مصدرها وليس هو.
- **الهدف**: حماية الذات من مواجهة صفات أو مشاعر تهدد صورتها عن نفسها، مما يقلل القلق الداخلي.
- **الخطر**: يؤدي إلى تشويه العلاقات واتهام الآخرين ظلمًا.



### مثال واقعي:

#### الحالة:
رجل يشعر بالغيرة من نجاح زميله في العمل، لكنه يرفض الاعتراف بذلك لأنه يرى نفسه شخصًا "طيبًا".

#### عملية الإسقاط:
1. **المشكلة الداخلية**: غيرته من الزميل.
2. **الإسقاط**: يتهم الزميل بأنه "يحسد الجميع" أو "يتلاعب بالمدير".
3. **النتيجة**: يصدق أن الزميل هو الشخص السلبي، بينما هو ينفي غيرته الخاصة.

#### تأثيرات الإسقاط:
- **على العلاقات**: يتصاعد الصراع مع الزميل دون سبب واضح.
- **على الذات**: يظل غير واعٍ بمشاعره الحقيقية، مما يعيق نموه الشخصي.
- **تسرب الإسقاط**: قد يبالغ في تفسير تعابير وجه الزميل على أنها "استفزازية".

### كيفية التعرف على الإسقاط وعلاجه؟

1. **الملاحظة الذاتية**: عندما تلوم الآخرين دائمًا على شعور معين (مثل: "كل الناس تكرهني").
2. **العلاج النفسي**: يساعد في فصل المشاعر الشخصية عن إدراك أفعال الآخرين.
3. **تقبل الذات**: الاعتراف أن المشاعر السلبية طبيعية ولا تحتاج إلى إنكارها.

> "الإسقاط هو أن ترى قذارة روحك على وجوه الآخرين" — *كارل يونغ*

### الفرق بين الإسقاط وآليات مشابهة:

- **الإزاحة (Displacement)**: توجيه المشاعر إلى شخص/شيء أقل تهديدًا (مثل الصراخ على الطفل بعد غضب من المدير).
- **التعويض (Compensation)**: إخفاء ضعف بقوة أخرى (مثل الطالب الضعيف دراسيًا الذي يصبح مهرج الفصل).
` ,
    image: '/Vibrant Berries Special Milkshake Promotion Poster for Social Media Post (1).png',
    example: 'الصوره تمثل غضب طفل من ابوه ولكنه اسقط هذا بقيه الناس ويرى ابوه شرير ',
    healthy: 'ميكانيزم غير ناضج ويمنع الشخص من مواجهة ذاته بصدق.',
    sources: [
      { type: 'article', title: 'Projection in Psychology – VeryWellMind', url: 'https://www.verywellmind.com/what-is-projection-2795905', note: 'أمثلة وسياقات.' },
    ],
  },
  {
    key: 'repression',
    name: 'الكبت',
    desc: `### ما هو الكبت؟

- **التعريف**: آلية دفاع لاواعية يدفع فيها العقل الأفكار أو الذكريات أو المشاعر المؤلمة أو المهددة إلى اللاوعي (العقل الباطن)، ليمنع الشعور بالقلق أو الألم النفسي.
- **الهدف**: حماية الشخص من الصراعات الداخلية، لكنه قد يؤدي لمشاكل لاحقة مثل القلق أو الاكتئاب أو الأعراض الجسدية.
- **الفرق بينه وبين القمع (Suppression)**:  
  الكبت لا إرادي (لا يتحكم فيه الشخص)، بينما القمع إرادي (كبت متعمد للمشاعر).

### الصورة التشبيهية التوضيحية:




### مثال واقعي:

#### الحالة:
طفل تعرض للإهانة من معلمه أمام زملائه. هذه التجربة أثارت فيه مشاعر الخزي والألم.

#### عملية الكبت:
1. **الحدث المؤلم**: الإهانة في الصف.
2. **الدفع إلى اللاوعي**: عقله يدفع الذاكرة والمشاعر المرتبطة بها إلى العقل الباطن.
3. **النتيجة المباشرة**: نسيان الحادث بمرور الوقت، وعدم تذكره بوعي.

#### التأثيرات اللاحقة:
- **في المراهقة**: يشعر بقلق غير مبرر عند التحدث أمام الجميع.
- **في الرشد**: يتجنب المناصب القيادية خوفًا من النقد، دون أن يعرف السبب.
- **تسرب الكبت**: قد يحلم بأنه عارٍ أمام جمهور (رمز للإحساس بالخزي).

### كيف يتعامل العلاج النفسي مع الكبت؟

1. **التحليل النفسي**: الكشف عن الذكريات المدفونة عبر التنويم أو التداعي الحر.
2. **العلاج المعرفي**: مواجهة الأفكار المتجذرة في اللاوعي.
3. **الهدف**: استعادة الذاكرة المكبوتة ومعالجتها بوعي لتحرير المشاعر.

> "الكبت يُخبئ الجرح في الظلام.. لكنه لا يشفيه" — *سيغموند فرويد*`, // ← هنا بتحط النص اللي فوق
    image: '/DfenssImg/Digital Illustration of Fishbowl with Broken Padlock and Text (1).png',
    example: 'الجزء المكشوف هو الوعي والغارق هو اللاوعي كما نرى من الكبت اصبح فاسد',
    healthy: 'آلية قد تقلل القلق مؤقتًا لكنها تسبب أضرارًا نفسية طويلة المدى إن لم تُعالَج.',
    sources: [
      { type: 'book', title: 'Psychodynamic Psychiatry in Clinical Practice – Glen Gabbard', url: 'https://www.goodreads.com/book/show/1253038' },
      { type: 'article', title: 'What Is Repression? – VeryWellMind', url: 'https://www.verywellmind.com/what-is-repression-2796047' },
    ]
  },
  {
    key: 'reaction-formation',
    name: 'التكوين العكسي',
    desc: `
### التكوين العكسي (Reaction Formation) - آلية الدفاع النفسي

**التعريف**:  
هي آلية دفاع لاواعية يُظهر فيها الشخص سلوكًا أو موقفًا **معاكسًا تمامًا** لمشاعره أو دوافعه الحقيقية التي يعتبرها غير مقبولة أو مهددة لنفسه.

**الهدف**:
- حماية الذات من القلق الناتج عن المشاعر "الممنوعة" (مثل الكره، الغيرة، الرغبات الجنسية).
- الحفاظ على صورة الذات الإيجابية أمام الآخرين.

### كيف تعمل؟

1. **وجود دافع أو شعور مرفوض**: (مثل كره الأب لابنه، أو شعور المرأة بالغيرة من صديقتها).
2. **القمع والإنكار**: لا يستطيع الشخص تقبل هذا الشعور لتناقضه مع قيمه أو صورته عن نفسه.
3. **التحول إلى العكس**: يُبالغ في إظهار السلوك المعاكس كتعويض (مثل الحب المفرط أو الاهتمام الزائد).

### أمثلة توضيحية

1. **العلاقات الأسرية**:  
   - *الشعور الحقيقي*: أم تشعر بالإرهاق من رعاية ابنها ذي الاحتياجات الخاصة.  
   - *التكوين العكسي*: تُبالغ في العناية به وتضحّي بكل وقتها، بينما تكتم غضبها الداخلي.

2. **في العمل**:  
   - *الشعور الحقيقي*: موظف يحسد زميله على ترقيته.  
   - *التكوين العكسي*: يمدحه باستمرار ويقدم له المساعدات غير الضرورية.

3. **في الدين أو الأخلاق**:  
   - *الشعور الحقيقي*: شخص لديه ميول جنسية غير مقبولة في مجتمعه.  
   - *التكوين العكسي*: يُصبح متشددًا في انتقاد الآخرين بنفس الصفة.

### علامات تكشف التكوين العكسي

- **المبالغة**: السلوك مفرط وغير متناسب مع الموقف (مثل هدايا باهظة لشخص تكرهه).
- **التصلب**: رفض أي نقاش عن المشاعر الحقيقية (مثل: "أنا لا أغضب أبدًا!").
- **التوتر**: تصرفات المصاب تبدو متكلفة أو دفاعية.

### تفسير صورة تشبيهية (لو افترضنا وجودها)




### مخاطر التكوين العكسي

- **الإرهاق النفسي**: بسبب كبت المشاعر الحقيقية.
- **علاقات سطحية**: لأن السلوك غير صادق.
- **أعراض جسدية**: مثل الصداع أو اضطرابات المعدة نتيجة القمع.

### كيفية التعامل معها في العلاج النفسي

1. **التحليل النفسي**: كشف التناقضات بين السلوك الظاهر والدوافع الخفية.
2. **العلاج الجشطالتي**: تشجيع الشخص على تقبل مشاعره كجزء من طبيعته.
3. **تمارين الوعي الذاتي**: مثل كتابة اليوميات لتتبع التناقضات.

> "عندما يُبالغ أحدهم في حبك، ابحث عن الكره المدفون في ظل كلماته" — *مقتبس من نظرية فرويد*

### الفرق بينه وبين آليات مشابهة

- **الإسقاط**: إلقاء المشاعر على الآخرين (اتهامهم بما فيك).
- **التعويض**: تعويض نقص بسلوك آخر (كالتركيز على الرياضة بسبب ضعف التحصيل الدراسي).
`
, // النص أعلاه
    image: '/DfenssImg/Figure In Dark Clothing Surrounded By Lush Forest Background.png',
    example: '',
    healthy: 'آلية بدائية وغير ناضجة، تُخفي الصراع الداخلي لكنها لا تحله.',
    sources: [
      {
        type: 'book',
        title: 'Ego Mechanisms of Defense – George Vaillant',
        url: 'https://www.goodreads.com/book/show/835394',
        note: 'تفصيل لآليات الدفاع بتدرجها من الناضج للبدائي.'
      }
    ]
  },
  {
    key: 'displacement',
    name: 'الإزاحة',
    desc: `
### الإزاحة (Displacement) - آلية الدفاع النفسي

#### التعريف:
الإزاحة هي آلية دفاع لاشعورية يقوم فيها الشخص **بنقل المشاعر أو الدوافع** (خاصة العدوانية أو الجنسية) من هدفها الأصلي (الذي يُعتبر مهددًا أو غير مقبول) إلى هدف آخر **أكثر أمانًا** أو أقل خطورة.

#### كيف تعمل؟

1. **وجود مشاعر مكبوتة**: مثل الغضب من رئيسك في العمل.
2. **عدم القدرة على التعبير**: بسبب الخوف من العواقب (مثل فقدان الوظيفة).
3. **تحويل المشاعر**: نحو هدف بديل يمكن تفريغ المشاعر فيه دون خوف (مثل الصراخ على الزوجة أو الأطفال).

### أمثلة توضيحية

1. **في العمل**:  
   - *الموقف الأصلي*: موظف يغضب من مديره لكنه لا يستطيع المواجهة.  
   - *الإزاحة*: يعود إلى المنزل ويصرخ على أطفاله بسبب أخطاء بسيطة.

2. **في العلاقات**:  
   - *الموقف الأصلي*: زوجة تشعر بالإحباط من زوجها الذي يتجاهلها.  
   - *الإزاحة*: تنفجر غضبًا على الخادمة بسبب عدم ترتيب الغرفة.

3. **في الحياة اليومية**:  
   - *الموقف الأصلي*: طالب يخاف من مواجهة زملائه المتنمرين.  
   - *الإزاحة*: يركل حقيبته أو يكسر قلمه عند عودته إلى البيت.

### لماذا نلجأ إلى الإزاحة؟

- **لتجنب الصراع**: مع الأشخاص الذين لديهم سلطة أو نفوذ.
- **للحفاظ على الصورة الذاتية**: كي لا نُظهر العدوانية علنًا.
- **لتفريغ التوتر**: حتى لو كان بطريقة غير صحية.

### تأثيرات الإزاحة السلبية

1. **على العلاقات**: تدمير العلاقات مع الأبرياء (مثل العائلة).
2. **على الصحة النفسية**: زيادة القلق بسبب عدم حل المشكلة الأصلية.
3. **على السلوك**: تكوين عادات عدوانية غير مباشرة (مثل نتف الشعر، عض الأظافر).

### كيفية التعامل مع الإزاحة؟

1. **الوعي بالمشاعر**: تعلم التعرف على مصدر الغضب الحقيقي.
2. **التعبير الصحي**: مثل ممارسة الرياضة أو الكتابة أو الحوار البناء.
3. **التأمل والاسترخاء**: لتقليل التوتر قبل أن يتحول إلى إزاحة.
4. **العلاج النفسي**: إذا كانت الإزاحة متكررة وتؤثر على الحياة.


### الفرق بين الإزاحة وآليات الدفاع المشابهة

                                       
| **الإزاحة**        | نقل المشاعر من هدف خطير إلى هدف آمن     | الصراخ على الزوجة بعد غضب من المدير            |
| **التكوين العكسي** | إظهار عكس المشاعر الحقيقية              | معاملة شخص بكثرة اللطف رغم كرهه                |
| **الإسقاط**        | اتهام الآخرين بالمشاعر التي في داخلك     | "أنت من تكرهني!" بينما الكره داخلي             |

### كلمة أخيرة

الإزاحة قد تخفف التوتر مؤقتًا، لكنها **لا تحل المشكلة الأساسية**. التعامل مع المشاعر بصدق ووعي هو الطريق الأفضل للصحة النفسية.

> "عندما نُزيح غضبنا على الأبرياء، نكون قد خسرنا المعركة مرتين: مرة مع أنفسنا، ومرة مع من نحب." — *مقتبس من علم النفس التحليلي*
`
, // ← النص أعلاه
    image: '/DfenssImg/Figure In Dark Clothing Surrounded By Lush Forest Background (1).png',
    example: 'رجل غاضب لانه لم يقبل في العمل عندما راى الكلب حدف عليه طوبه',
    healthy: 'آلية مؤقتة للتنفيس، لكنها إن استمرت قد تضر العلاقات وتزيد القلق.',
    sources: [
      {
        type: 'article',
        title: 'Understanding Displacement – Simply Psychology',
        url: 'https://www.simplypsychology.org/defense-mechanisms.html',
        note: 'شرح مبسط مع أمثلة واقعية.'
      }
    ]
  },
  {
    key: 'regression',
    name: 'النكوص',
    desc: `
### النكوص (Regression) - آلية الدفاع النفسي

#### التعريف:
النكوص هو آلية دفاع لاشعورية يعود فيها الشخص إلى **سلوكيات أو مراحل نمو سابقة** (أكثر بدائية) عندما يواجه ضغوطًا أو مواقف صعبة، كوسيلة للهروب من الواقع أو التحديات الراهنة.

#### لماذا يحدث النكوص؟

- **للتكيف مع القلق**: بالعودة إلى مرحلة شعر فيها بالأمان.
- **لتجنب المسؤولية**: عندما تكون المطالب الحالية فوق طاقته.
- **كاستجابة للصدمة**: مثل المرض المفاجئ أو الفقدان.

### أمثلة شائعة للنكوص

1. **في الأطفال**:  
   - *الموقف*: طفل بعمر ٥ سنوات يعود إلى مص إبهامه بعد ولادة أخيه.  
   - *التفسير*: يشعر بالتجاهل، فيعود لسلوك طفولي لجذب الانتباه.

2. **في المراهقين**:  
   - *الموقف*: مراهق يبدأ بالتبول اللاإرادي قبل امتحان مهم.  
   - *التفسير*: الضغط النفسي يدفعه لسلوك مرتبط بمرحلة الطفولة.

3. **في البالغين**:  
   - *الموقف*: رجل بالغ يصرخ ويبكي عندما يُرفض طلبه في العمل.  
   - *التفسير*: يعود إلى ردود فعل طفولية بدلًا من المواجهة الناضجة.

4. **في كبار السن**:  
   - *الموقف*: مريض مسن يرفض تناول الطعام ويختبئ تحت البطانية.  
   - *التفسير*: يعود إلى سلوكيات تشبه الطفولة بسبب الخوف من المرض.

### كيف تعرف أنك أو شخصًا آخر يمارس النكوص؟

- **السلوكيات الطفولية**: نوبات غضب، بكاء مفرط، التمسك بلعبة قديمة.
- **الاعتماد المفرط**: طلب المساعدة في مهام يستطيع إنجازها بمفرده.
- **تجنب المسؤولية**: الهروب إلى ألعاب الفيديو لساعات طويلة كتجنب لمشكلة عمل.



### مخاطر النكوص المستمر

1. **ضعف النضج العاطفي**: صعوبة في مواجهة المشاكل بشكل بالغ.
2. **مشاكل اجتماعية**: قد يُنظر للشخص على أنه غير مسؤول.
3. **تفاقم المشكلة الأصلية**: لأن الهروب لا يحل الأزمة.

### كيفية التعامل مع النكوص

1. **الوعي بالسلوك**: ملاحظة متى وأين تظهر السلوكيات الطفولية.
2. **إيجاد بدائل صحية**: مثل:  
   - التحدث عن المشاعر بدلًا من البكاء.  
   - ممارسة الرياضة لتخفيف التوتر.
3. **العلاج النفسي**: خاصةً العلاج التحليلي لفهم جذور المشكلة.

### الفرق بين النكوص وآليات دفاع مشابهة


| **النكوص**         | العودة لمرحلة نمو سابقة               | بالغ ينام مع دمية دب بسبب التوتر                 |
| **الإزاحة**        | نقل المشاعر لهدف آخر                 | الصراخ على الزوجة بعد غضب من المدير              |
| **التكوين العكسي** | إظهار عكس المشاعر الحقيقية           | الإفراط في مدح شخص تكرهه                         

### متى يكون النكوص إيجابيًا؟

في حالات نادرة، قد يكون النكوص **مؤقتًا** وسيلة للراحة النفسية، مثل:

- مشاهدة أفلام الطفولة المفضلة عند الحزن.
- اللعب مع الأطفال لتخفيف التوتر.

> "النكوص هو محاولة النفس العودة إلى ميناء آمن، لكن الرحلة الحقيقية تتطلب الإبحار عبر العاصفة." — *إريك إريكسون (عالم نفس تنموي)*
`
, // ← النص أعلاه
    image: '/DfenssImg/Figure In Dark Clothing Surrounded By Lush Forest Background (2).png',
    example: 'رجل بالغ يصرخ ويبكي عند تعرضه للرفض المهني، كأنه طفل فقد لعبته.',
    healthy: 'قد يكون مؤقتًا ومريحًا نفسيًا، لكنه غير مفيد إذا استُخدم كوسيلة دائمة للهروب.',
    sources: [
      {
        type: 'book',
        title: 'The Ego and the Id – Sigmund Freud',
        url: 'https://www.goodreads.com/book/show/161263.The_Ego_and_the_Id',
        note: 'من النصوص الكلاسيكية التي تناولت آليات الدفاع.'
      }
    ]
  },
  {
    key: 'compensation',
    name: 'التعويض',
    desc: `
### التعويض (Compensation) - آلية الدفاع النفسي

#### التعريف العلمي:
التعويض هو آلية دفاع نفسي غير واعية، يحاول فيها الفرد **تعويض نقص أو عجز حقيقي/متخيل** (جسدي، نفسي، اجتماعي) عن طريق **تعزيز مجال آخر** أو تطوير مهارات بديلة.

#### أنواع التعويض:

1. **تعويض مباشر**: تحسين النقص نفسه (مثل شخص ضعيف البنية يمارس كمال الأجسام).
2. **تعويض غير مباشر**: التفوق في مجال آخر (مثل طالب ضعيف دراسيًا يصبح نجمًا رياضيًا).

### كيف يعمل التعويض؟

1. **الإحساس بالنقص**: يدرك الشخص عيبًا في نفسه (حقيقيًا أو متخيلًا).
2. **القلق النفسي**: يشعر بعدم الأمان أو الدونية.
3. **الاستجابة التعويضية**: يطور مهارات/سلوكيات لموازنة النقص.

### أمثلة حياتية توضيحية

#### 1. التعويض الإيجابي (الصحي):

- **الموقف**: شاب يعاني من تلعثم في الكلام.
- **التعويض**: يتفوق في الكتابة ويصبح كاتبًا مشهورًا.
- **النتيجة**: تحقيق ذاته دون إنكار المشكلة.

#### 2. التعويض السلبي (المفرط):

- **الموقف**: امرأة تشعر بعدم الجاذبية الجسدية.
- **التعويض**: إفراط في عمليات التجميل أو الإسراف في شراء الملابس.
- **الخطر**: هوس بالمظهر وإهمال الجوانب الأخرى.

#### 3. تعويض اجتماعي:

- **الموقف**: طفل يشعر بالإهمال العاطفي من أسرته.
- **التعويض**: يصبح الأكثر شعبية في المدرسة لتعويض الحب المفقود.

### علامات تدل على استخدام التعويض

- **المبالغة في التفوق** بمجال معين (إنجاز غير متناسب مع الجهد).
- **التركيز الأحادي** على نقطة قوة وتجاهل نقاط ضعف أخرى.
- **الحساسية المفرطة** عند مناقشة النقص الأصلي.


### إيجابيات وسلبيات التعويض

 تحفيز التطور الشخصي       | هروب من مواجهة النقص الأصلي        
 تحقيق إنجازات ملموسة       | إرهاق نفسي بسبب الإفراط           
 تعزيز الثقة بالنفس         | تشويه صورة الذات (تعويض زائف)      

### كيف نميز بين التعويض الصحي والمرضي؟

- **الصحي**: يحقق التوازن ولا ينكر النقص.
- **المرضي**: هوس بالتفوق مع إنكار تام للعجز.

### التعامل مع التعويض غير الصحي

1. **العلاج المعرفي**: تعديل الأفكار حول النقص.
2. **تقبل الذات**: تعلم أن الكمال ليس شرطًا للتقدير.
3. **تطوير مهارات**: تحسين النقص تدريجيًا (إن أمكن).

### الفرق بين التعويض وآليات مشابهة


 **التعويض**:        | سد النقص بتفوق في مجال آخر      | ضعيف دراسيًا يصبح رياضيًا                |
 **التسامي**:        | تحويل طاقة سلبية لإبداع (فن/علم) | شخص غاضب يصبح ناشطًا حقوقيًا             |
 **التكوين العكسي** :| إظهار عكس المشاعر الحقيقية       | كره شخص لكن معاملته بلطف مفرط            |

### مقولة ختامية

> "التعويض قد يجعلك تطير بعيدًا، لكن لا تنسَ أن جذورك تحتاج أن تتعافى." — *ألفريد أدلر (مؤسس علم النفس الفردي)*
`
, // ← النص أعلاه
    image: '/DfenssImg/Figure In Dark Clothing Surrounded By Lush Forest Background (3).png',
    example: '',
    healthy: 'يمكن أن يكون قوة إيجابية إذا لم يتحول إلى إنكار للواقع أو هوس بالكمال.',
    sources: [
      {
        type: 'book',
        title: 'Understanding Human Nature – Alfred Adler',
        url: 'https://www.goodreads.com/book/show/141792',
        note: 'مرجع كلاسيكي لفهم آلية التعويض ضمن نظرية أدلر.'
      }
    ]
  },
  {
    key: 'rationalization',
    name: 'التبرير',
    desc: `
### التبرير (Rationalization) - آلية الدفاع النفسي

####  التعريف الدقيق:
التبرير هو آلية دفاع لاشعورية يختلق فيها الشخص **أعذارًا أو تفسيرات منطقية ظاهريًا** لتبرير سلوكيات أو مشاعر غير مقبولة، بهدف:

- حماية الذات من الشعور بالذنب أو الفشل.
- الحفاظ على صورة ذاتية إيجابية.
- تجنب مواجهة الأسباب الحقيقية لأفعاله.

####  الوظيفة النفسية:

- تقليل **التنافر المعرفي** (الفجوة بين المعتقدات والواقع).
- توفير **راحة نفسية مؤقتة** (لكنها غير حقيقية).

###  أنواع التبرير الشائعة


 **تبرير "الحامي"**:   | اختلاق مبررات لحماية الذات              | "رفضوني في الوظيفة لأنهم يحسدونني"       |
 **تبرير "المُحلّي"**: | تبرير الفشل بادعاء عدم الرغبة أصلاً     | "لم أكن أرغب في هذه العلاقة أساسًا"      |
 **تبرير "المُقدّس"**: | إعطاء أسباب أخلاقية/دينية لأفعال شخصية | "أكذب عليهم لصالحهم"                     |

###  أمثلة حياتية (واقعية)

1. **في العلاقات**:  
   - *الموقف*: شاب ترفضه حبيبته.  
   - *التبرير*: "هي غير ناضجة ولا تصلح لشخص مثلي".

2. **في العمل**:  
   - *الموقف*: موظف يفشل في تسليم مشروع في الموعد.  
   - *التبرير*: "المدير لم يعطني الموارد الكافية".

3. **في الدراسة**:  
   - *الموقف*: طالب يرسب في مادة.  
   - *التبرير*: "الأستاذ كان يضطهدني".

###  تفسير صورة توضيحية (افتراضية)



###  مخاطر الإفراط في التبرير

1. **تضليل الذات**: فقدان القدرة على رؤية الأخطاء.
2. **تجميد النمو**: عدم التعلم من الفشل.
3. **تآكل الثقة**: عندما يكتشف الآخرون تبريراتك الكاذبة.

###  كيف نتعرف على التبرير؟

- عندما تكرر عبارات مثل:
  - "لكن..." بعد كل فشل.
  - "أنا فعلت هذا لأن..." (بأسباب غير واقعية).
  - "كل الناس يفعلون هكذا".

###  كيف نتعامل معه؟

1. **الوعي الذاتي**: تتبع تبريراتك اليومية.
2. **مساءلة النفس**: "هل هذا حقيقي أم مجرد عذر؟"
3. **تقبل الضعف**: الاعتراف أن الخطأ جزء من التعلم.
4. **العلاج المعرفي**: لتصحيح أنماط التفكير المشوهة.

### ↔ الفرق بين التبرير وآليات مشابهة

 **التبرير**     | اختلاق أعذار "منطقية" زائفة     | "سرقت لأنني كنت محتاجًا"           |
 **الإنكار**     | رفض الواقع كليًا                | "أنا لست مدمنًا!"                   |
 **الإسقاط**     | اتهام الآخرين بما فيك            | "أنت من تكرهني!" (بينما الكره داخلك) |

###  الجانب الإيجابي (النادر)

قد يكون التبرير **مؤقتًا** كمسكن نفسي في المواقف الصادمة، مثل:

- تبرير نهاية علاقة بـ"كانت إرادة الله" لتخفيف الألم.

###  مقولة عميقة

> "التبرير هو جدار نبنيه بحجارة المنطق لنخفي وراءه أنقاض حقيقتنا." — *إريك فروم*
`
, // ← النص أعلاه
    image: '/DfenssImg/Figure In Dark Clothing Surrounded By Lush Forest Background (4).png',
    example: 'شخص لم يُقبل في وظيفة، فيقول: "أنا كنت رايح بس أتأكد إنهم ما يستحقوني أصلًا".',
    healthy: 'قد يوفر راحة لحظية، لكن استمرار التبرير يمنع التعلم والتطور.',
    sources: [
      {
        type: 'article',
        title: 'Rationalization in Psychology – VeryWellMind',
        url: 'https://www.verywellmind.com/what-is-rationalization-2795866',
        note: 'شرح مبسط للأمثلة اليومية.'
      }
    ]
  },
  {
    key: 'daydreaming',
    name: 'أحلام اليقظة',
    desc: `
### أحلام اليقظة (Daydreaming) - بين الخيال والواقع

#### 1. التعريف والمفهوم

أحلام اليقظة هي حالة ذهنية يتخيل فيها الشخص سيناريوهات أو أحداثًا أثناء اليقظة، غالبًا لتحقيق رغبات يصعب إشباعها في الواقع. تُعتبر ظاهرة طبيعية يشترك فيها معظم الناس، لكن الإفراط فيها قد يصبح مشكلة نفسية.

---

#### 2. الأنواع والأشكال

- **أحلام تعويضية**: مثل تخيل الثراء للفقير أو النجاح للفاشل.
- **أحلام إبداعية**: يستخدمها الفنانون والكتاب كمصدر للإلهام.
- **أحلام هروبية**: كتخيل حياة مثالية للهروب من واقع مؤلم.

---

#### 3. الأسباب النفسية

- **الإحباط**: نتيجة الفشل في تحقيق الأهداف.
- **عدم الثقة بالنفس**: كتعويض عن الشعور بالنقص.
- **الصراعات الاجتماعية**: مثل صدام الأجيال بين الشباب والكبار.

---

#### 4. الآثار الإيجابية والسلبية

**الإيجابية**:

- تخفيف التوتر عبر تفريغ المشاعر.
- تحفيز الإبداع وحل المشكلات (كما عند المخترعين والعلماء).

**السلبية**:

- ضعف التركيز والإنجاز (مثل الطالب الذي يشرد أثناء المذاكرة).
- الانفصال عن الواقع في الحالات الشديدة.

---

#### 5. أحلام اليقظة في الأدب

استخدمها كتاب مثل **جان جاك روسو** في كتابه *"أحلام يقظة جوال منفرد"* لاستعراض حياته بين النجاح والفشل، كما ظهرت في رواية *"صمت الفراشات"* للكاتبة الكويتية **ليلى العثمان** كوسيلة لكشف معاناة المرأة العربية.

---

#### 6. نصائح للتعامل مع الإفراط في أحلام اليقظة

- **ممارسة اليقظة الذهنية (Mindfulness)** لزيادة الوعي باللحظة الحالية.
- **تحديد أهداف واقعية** قصيرة المدى.
- **اللجوء للإبداع** (كتابة، رسم) كبديل صحي للتخيل المفرط.

> "_أحلام اليقظة هي محطة راحة للروح، لكن الإقامة الدائمة فيها تُفقدك تذكرة العودة إلى الواقع_" — مقتبس من تحليل نفسي.

---

**للمزيد عن أعمال أدبية تستكشف هذا المفهوم**:

- كتاب: *"أحلام يقظة جوال منفرد"* — **جان جاك روسو**
- رواية: *"صمت الفراشات"* — **ليلى العثمان**
`
, // ← النص أعلاه
    // image: 'https://example.com/daydreaming.jpg',
    example: 'طالب يتخيل أنه نجم مشهور أثناء الحصة بدلًا من التركيز في الدرس.',
    healthy: 'مقبولة إن كانت خفيفة، خاصة لتحفيز الإبداع، لكن الإفراط قد يضر الأداء والتركيز.',
    sources: [
      {
        type: 'book',
        title: 'Maladaptive Daydreaming – Eli Somer',
        url: 'https://www.sciencedirect.com/science/article/abs/pii/S019188691000155X',
        note: 'بحث نفسي حول أحلام اليقظة المفرطة كاضطراب محتمل.'
      }
    ]
  },

  {
    key: 'sublimation',
    name: 'التسامي',
    desc: `
### التسامي (Sublimation) - آلية الدفاع النفسي الإيجابية

####  التعريف

التسامي هو تحويل **الطاقات النفسية السلبية أو الدوافع غير المقبولة** (مثل الغضب، العدوانية، الرغبات الجنسية) إلى **أنشطة بناءة ومقبولة اجتماعيًا**، وهو من أنضج آليات الدفاع النفسي حسب **فرويد**.

---

####  كيف يعمل؟

1. **وجود دافع مكبوت**: مثل عدوانية مفرطة.
2. **إعادة توجيه الطاقة**: نحو نشاط مفيد.
3. **النتيجة**: إنتاج إبداعي أو علمي أو اجتماعي.

---



---

###  لماذا يُعتبر التسامي الأكثر صحة؟

- **يُنتج قيمة**: عكس الآليات الأخرى التي تهدر الطاقة.
- **يُعزز التكيف**: مع المجتمع دون كبت أو إنكار.
- **يُحقق الذات**: عبر الإبداع أو الإنجاز.

---



---

###  الفرق بين التسامي والتعويض

 **التسامي**                  | **التعويض**                     
 تحويل الطاقة لـ **نشاط نوعي**   | سد النقص بـ **مهارة بديلة**        
 يركز على **الإنتاج**         | يركز على **التغطية**             
 مثال: الغضب → فن             | مثال: ضعف دراسي → رياضة         

---

###  كيف تطور قدرتك على التسامي؟

1. **تعرف على مشاعرك السلبية**: مثل "أنا غاضب لأن...".
2. **ابحث عن قناة مناسبة**: (رسم، كتابة، رياضة).
3. **حول الطاقة فورًا**: اكتب رسالة غضب ثم مزقها بدل إرسالها.

---

###  مقولة عميقة

> _"العظمة الحقيقية هي أن تحول جراحك إلى فن، وحممك إلى ألوان"_ — **مقتبس من تحليل نفسي**

---
`
, // ← النسخة أعلاه
    image: '/DfenssImg/Figure In Dark Clothing Surrounded By Lush Forest Background (5).png',
    example: 'شخص يعاني من مشاعر غضب مزمنة، فيُحولها إلى كتابة روايات نفسية عميقة.',
    healthy: 'يُعتبر من أكثر آليات الدفاع نضجًا وفائدة، لأنه يوجه الطاقة المكبوتة نحو الإبداع والإنجاز.',
    sources: [
      {
        type: 'book',
        title: 'Civilization and Its Discontents – Sigmund Freud',
        url: 'https://www.goodreads.com/book/show/15559',
        note: 'فرويد يشرح كيف يُستخدم التسامي في بناء الحضارة.'
      }
    ]
  }
  

  
  

  
  
  
  
  
];

const QUIZ = [
  // الإنكار (Denial)
  { q: 'شخص فقد عزيزًا وما زال يتحدث عنه وكأنه على قيد الحياة.', a: 'denial' },
  { q: 'رجل مدخن بشراهة يقول "التدخين لا يضرني، جدي عاش 90 سنة وكان يدخن".', a: 'denial' },

  // الإسقاط (Projection)
  { q: 'شخص يتهم أصدقاءه بالحسد رغم أنه داخليًا يشعر بذلك تجاههم.', a: 'projection' },
  { q: 'موظف يشعر بعدم الأمان في العمل ويقول: "المدير هو من يخاف أن يُستبدل".', a: 'projection' },

  // الكبت (Repression)
  { q: 'شخص لا يتذكر حادثًا مؤلمًا في الطفولة رغم أن كل من حوله يتحدث عنه.', a: 'repression' },
  { q: 'شخص يتجنب تمامًا الحديث عن فقدان أحد والديه رغم أن الحدث حديث.', a: 'repression' },

  // التكوين العكسي (Reaction Formation)
  { q: 'شخص يعامل زميله بلطف مفرط رغم شعوره بالكراهية نحوه.', a: 'reaction_formation' },
  { q: 'شخص لديه ميول غير مقبولة اجتماعيًا، ويُبالغ في مهاجمة من يحملونها.', a: 'reaction_formation' },

  // الإزاحة (Displacement)
  { q: 'طالب غاضب من معلمه فيصرخ على أخيه الصغير في البيت.', a: 'displacement' },
  { q: 'رجل توبيخ في العمل، فعاد للمنزل وكسر أطباق المطبخ.', a: 'displacement' },

  // النكوص (Regression)
  { q: 'شاب بالغ يعود للبكاء والصراخ عند مواجهته بمشكلة بسيطة.', a: 'regression' },
  { q: 'طفل بدأ يتبول لا إراديًا بعد ولادة أخيه الأصغر.', a: 'regression' },

  // التعويض (Compensation)
  { q: 'طالب ضعيف في الدراسة يتفوق في الرياضة ليبرز أمام زملائه.', a: 'compensation' },
  { q: 'رجل قصير القامة يبالغ في ارتداء ملابس فاخرة لإثبات ذاته.', a: 'compensation' },

  // التبرير (Rationalization)
  { q: 'شخص رسب في الامتحان وقال: "الأسئلة كانت غامضة وغير منطقية".', a: 'rationalization' },
  { q: 'امرأة تُبرر خيانة شريكها بقولها: "ربما أنا السبب، لم أكن مثالية".', a: 'rationalization' },

  // التسامي (Sublimation)
  { q: 'شخص يغضب بسرعة لكنه يُفرغ طاقته في الرسم أو الجري.', a: 'sublimation' },
  { q: 'مراهق يعاني من مشاعر داخلية عنيفة، فينضم لفريق كاراتيه ويُبدع فيه.', a: 'sublimation' },
];





export default function DefenseMechanisms() {
  const navigate = useNavigate();
  const [index, setIndex] = useState(0);
  const [choice, setChoice] = useState('');
  const [score, setScore] = useState(0);
  const [show, setShow] = useState(false);

  const current = QUIZ[index];
  const correctObj = DEFENSES.find((e) => e.key === current.a);
  const chosenObj = DEFENSES.find((e) => e.key === choice);

  const submit = () => {
    if (!choice) return;
    if (choice === current.a) setScore(score + 1);
    setShow(true);
  };

  const next = () => {
    setShow(false);
    setChoice('');
    setIndex((i) => (i + 1) % QUIZ.length);
  };
  const cardColors = [
    '#d4bde3',
    '#bde3c4',
   
  ];
  
  

  return (
    <div className="flex flex-col min-h-screen bg-[#f9fbfa] space-y-6 px-5 pb-10 font-sans">
      {/* Header */}
      <header className="flex items-center pt-4 pb-2 justify-between">
        <button onClick={() => navigate(-1)} className="flex size-10 items-center text-[#0e1b15]">
          <ArrowLeft size={24} />
        </button>
        <h2 className="flex-1 text-center pr-10 text-lg font-bold text-[#0e1b15]">آليات الدفاع النفسي</h2>
        
      </header>

      <div className="bg-white rounded-lg p-6 shadow-sm">
        <div className="flex items-center gap-3 mb-0">
          <ShieldCheck className="text-[#4e9778] size-6" />
          <h3 className="text-lg font-semibold text-[#0e1b15]">آليات الدفاع النفسي</h3>
        </div>
        
        <p className="text-[#374151] leading-relaxed mb-4">
          آليات الدفاع النفسية هي استجابات لاواعية يستخدمها الأفراد لحماية أنفسهم من القلق أو المشاعر السلبية الناتجة عن أفكار أو مواقف غير مقبولة أو تهديدات داخلية أو خارجية. تعمل هذه الآليات كوسائل لحفظ التوازن النفسي وتقليل التوتر.
        </p>

        <p className="text-[#374151] leading-relaxed">
          ظهرت هذه المفاهيم أولاً في نظرية التحليل النفسي لفرويد، حيث اعتبرها وسائل تلجأ إليها "الأنا" (Ego) لتقليل الصراع بين "الهو" (Id) و"الأنا العليا" (Superego).
        </p>

      
      </div>
<br />

{/* كروت تصفح الآليات */}
{/* كروت تصفح الآليات بشكل أفقي - 5 في الصف */}
<div className="overflow-x-auto">
  <div className="flex w-[1000px] gap-3 px-2">
    {DEFENSES.map((item, index) => {
      const bgColor = cardColors[index % cardColors.length];

      return (
        <Link
          key={item.key}
          to={item.key}
          smooth={true}
          duration={500}
          offset={-80}
          className="w-[150px] flex-shrink-0 p-1 h-9 mb-4 rounded-xl border cursor-pointer hover:opacity-90 shadow-sm text-center"
          style={{ backgroundColor: `${bgColor}` }} // 66 = 40% شفافية
        >
          <h4 className="text-md font-bold text-[#0e1b15]">{item.name}</h4>
        </Link>
      );
    })}
  </div>
</div>







      {/* قائمة الآليات */}
      {DEFENSES.map((item, i) => (
        <Element key={item.key} name={item.key}>
            <Accordion type="single" >
      <div id={item.key}>
    <AccordionItem value="item-1">
      <motion.div
        initial={{ opacity: 0 }}
        animate={{ opacity: 1 }}
        transition={{ delay: i * 0.05 }}
        className="space-y-6 p-6 bg-white rounded-xl shadow-md text-[#0e1b15] leading-relaxed"
      >
        <div className="flex items-center gap-3">
          <TrafficCone className="text-[#4e9778]" />
          <h2 className="text-2xl font-bold">{item.name}</h2>
        </div>

        {/* المحتوى المنسق */}
        <ReactMarkdown components={markdownComponents}>
  {item.desc}
</ReactMarkdown>
        {/* الصورة */}
        {item.image && (
          <img src={item.image} alt={item.name} className="rounded-xl w-full max-h-64 object-cover" />
        )}

        {/* المثال */}
        {item.example && (
          <p className="text-sm italic text-[#4e9778]"><strong>مثال:</strong> {item.example}</p>
        )}

        {/* الاستخدام الصحي */}
        {item.healthy && (
          <p className="text-sm text-[#0e1b15]"><strong>تقييم:</strong> {item.healthy}</p>
        )}

        {/* المصادر */}
        {item.sources?.length > 0 && (
          <div className="mt-4 space-y-2">
            <h4 className="text-sm font-bold text-[#0e1b15]">مصادر لفهم أعمق:</h4>
            <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2">
              {item.sources.map((src, k) => (
                <a
                  key={k}
                  href={src.url}
                  target="_blank"
                  rel="noreferrer"
                  className="flex items-center gap-2 p-3 bg-[#e7f3ee] rounded-xl text-sm text-[#0e1b15]"
                >
                  {src.type === 'video' && <Youtube size={16} className="text-[#e94826]" />}
                  {['book', 'article'].includes(src.type) && <BookOpen size={16} className="text-[#4e9778]" />}
                  {src.type === 'pod' && <Headphones size={16} className="text-[#4e9778]" />}
                  <span className="truncate">{src.title}</span>
                </a>
              ))}
            </div>
          </div>
        )}
      </motion.div>
    </AccordionItem>
    </div>
  </Accordion>
  </Element>
))} 

      {/* اختبار الفهم */}
      <section className="space-y-4">
        <h3 className="text-xl font-bold text-[#0e1b15] pt-6">اختبر فهمك</h3>
        <Card className="bg-white shadow-sm">
          <CardContent className="space-y-4 p-4">
            <p className="text-base font-semibold text-[#0e1b15]">{current.q}</p>
            <div className="space-y-2">
              {DEFENSES.map((err) => (
                <Button
                  key={err.key}
                  variant="outline"
                  onClick={() => setChoice(err.key)}
                  className={`w-full text-right ${choice === err.key ? 'border-[#4e9778] bg-[#e7f3ee]' : ''}`}
                >
                  {err.name}
                </Button>
              ))}
            </div>
            <div className="flex gap-2 justify-between items-center">
              <Button onClick={submit} disabled={!choice}>تأكيد</Button>
              {show && <Button onClick={next}>التالي</Button>}
            </div>
            {show && (
              <div className={`rounded-lg p-4 mt-3 ${choice === current.a ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}`}>
                {choice === current.a ? (
                  <div className="flex items-center gap-2">
                    <CheckCircle2 size={20} />
                    إجابة صحيحة! {correctObj.desc}
                  </div>
                ) : (
                  <div className="space-y-1">
                    <div className="flex items-center gap-2">
                      <AlertTriangle size={20} />
                      خطأ: هذا {chosenObj?.name || 'غير معروف'}، الصحيح هو {correctObj.name}.
                    </div>
                    <p className="text-sm leading-relaxed">لماذا؟ {correctObj.healthy}</p>
                  </div>
                )}
              </div>
            )}
          </CardContent>
        </Card>
      </section>
         {/* 🔺 زر العودة لأعلى الصفحة */}
    <ScrollToTopButton />
    </div>
  );
}

